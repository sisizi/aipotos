# Supabase Realtime Setup

## åœ¨Supabaseæ§åˆ¶å°å¯ç”¨Realtime

1. **ç™»å½•Supabaseæ§åˆ¶å°**: https://supabase.com/dashboard
2. **é€‰æ‹©é¡¹ç›®**: é€‰æ‹©ä½ çš„AI Photoé¡¹ç›®
3. **è¿›å…¥Database**: ç‚¹å‡»å·¦ä¾§èœå•çš„"Database"
4. **é€‰æ‹©Replication**: ç‚¹å‡»"Replication"æ ‡ç­¾é¡µ
5. **å¯ç”¨tasksè¡¨çš„å®æ—¶åŠŸèƒ½**:
   - åœ¨"Source"è¡¨æ ¼ä¸­æ‰¾åˆ°"tasks"è¡¨
   - ç‚¹å‡»å³ä¾§çš„åˆ‡æ¢å¼€å…³ï¼Œå¯ç”¨å®æ—¶åŠŸèƒ½
   - ç¡®ä¿æ˜¾ç¤ºä¸º"Enabled"

## æ£€æŸ¥é…ç½®

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š
```
ğŸ“¡ å¯åŠ¨Realtimeç›‘å¬ä»»åŠ¡: [task-id]
ğŸ“¡ Realtimeè®¢é˜…çŠ¶æ€: SUBSCRIBED
```

## æµ‹è¯•æµç¨‹

1. ç‚¹å‡»Generateç”Ÿæˆå›¾ç‰‡
2. æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—æ˜¯å¦æ˜¾ç¤ºRealtimeè®¢é˜…æˆåŠŸ
3. ç­‰å¾…AIç”Ÿæˆå®Œæˆ
4. å½“æ•°æ®åº“æ›´æ–°æ—¶ï¼Œåº”è¯¥ç«‹å³æ”¶åˆ°å®æ—¶æ¨é€ï¼š
   ```
   ğŸ”„ æ”¶åˆ°Realtimeæ›´æ–°: { new: { status: 'completed', output_image_url: '...' } }
   ğŸ‰ ä»»åŠ¡å®Œæˆï¼Œæ˜¾ç¤ºå›¾ç‰‡: [url]
   ```

## æ•…éšœæ’é™¤

å¦‚æœRealtimeä¸å·¥ä½œï¼š
1. æ£€æŸ¥Supabaseæ§åˆ¶å°ä¸­tasksè¡¨çš„Replicationæ˜¯å¦å¯ç”¨
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯æ—¥å¿—
4. ç¡®è®¤Supabaseé¡¹ç›®é…ç½®æ­£ç¡®